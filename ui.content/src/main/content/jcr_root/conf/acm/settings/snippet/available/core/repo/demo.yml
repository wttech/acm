group: Repo
name: repo_demo
documentation: |
  Showcase of the `repo` code variable.
  Creates a folder structure and deletes it again.
content: |
  boolean canRun() {
    return condition.idleSelf()
  }

  void doRun() {
    out.fromLogs()

    def folder = repo.get("/var/acm/demo").ensureFolder()
    for (int i = 0; i < 3; i++) {
      def child = folder.child("child-\${i}")
      child.save(["foo": "bar"])
    }
    folder.delete()
  }